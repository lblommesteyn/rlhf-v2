<!DOCTYPE html>
<html>
<head>
    <title>Reinforcement Learning Feedback</title>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Open+Sans&display=swap");

        body {
            background-color: #f4f7fc;
            font-family: "Open Sans", sans-serif;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f7fc;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
        }

        .classificationDropdown, .nameInput {
            margin-bottom: 10px;
            display: block;
            width: 100%;
        }

        .submitFeedback, .submitName, .addMarkerButton {
            background-color: #4caf50;
            color: white;
            border: none;
            padding: 8px 16px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 14px;
            cursor: pointer;
            margin-top: 10px;
        }

        .markerFeedbackContainer {
            margin-bottom: 15px;
        }

        .markerButton {
            margin-right: 10px;
        }

        hr {
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        table, th, td {
            border: 1px solid #ddd;
        }

        th, td {
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f4f4f4;
        }
    </style>
    <script>
        let jsonData = [
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are developing a culture that puts our customers first, enabling product creation and development in an inspiring environment, supported by data-informed decision-making.",
        "marker1": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We aim to make Debenhams a destination for Social Shopping by focusing on three key areas to grow: Beauty and beauty services; Fashion via accessories; and food and events, which we call Meet me @ Debenhams.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "By simplifying our operations and processes and focusing on doing fewer things better, we will increase the efficiency of our business.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We continue to strengthen our relationships with third parties to broaden our reach. This includes accessing new customers both in the UK and overseas through partners for our own brands.",
        "marker1": "Collaboration"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We seek to operate our stores, logistics, and sourcing operations in a way that minimizes the use of energy and resources.",
        "marker1": "Agency"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are taking decisive action to drive further cost savings and generate cash whilst addressing the structural challenge of our store estate.",
        "marker1": "Tensions"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We have a strong balance sheet, with flexible financing provision through a £320 million financing facility and a £200 million bond, which are available until 2020 and 2021 respectively.",
        "marker1": "Macro Issue Why"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are creating a digital destination, accessed via Debenhams.com, bringing together beauty beginners, enthusiasts, and experts in a fun, rewarding, and safe space to connect and share their passion.",
        "marker1": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are continuing to review our international market presence. In FY2018 we closed a net five franchise stores, exiting two markets, mainly in Eastern Europe.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our new structure for Fashion & Home is buyer-led and design-driven, supported by a centralised planning function. This will improve accountability, align activity across channels and markets, and lead to faster decision-making.",
        "marker1": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are investing in digital capabilities to engage with customers more effectively and meet their needs across multiple channels.",
        "marker1": "Macro Issue How",
        "marker2": "Collaboration"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that by rethinking our approach to operations and focusing on productivity, we can unlock significant efficiencies across the business.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our long-term strategy is centered around making Debenhams a leading multi-channel retailer by creating value through a unique combination of stores, online, and mobile.",
        "marker1": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are pursuing a strategy that is based on a clear understanding of our customers, and we are confident that this will allow us to adapt to their changing needs and deliver sustainable growth.",
        "marker1": "Macro Issue Why",
        "marker2": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our vision is to create a shopping experience that inspires and engages customers, driven by our purpose of putting customers at the heart of everything we do.",
        "marker1": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are investing in technology and digital capabilities to enhance the customer experience and drive efficiencies in our operations.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to building a sustainable business by focusing on reducing our environmental impact and promoting ethical sourcing practices.",
        "marker1": "Agency",
        "marker2": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our approach to innovation is centered around collaborating with key partners to develop new products and services that meet the evolving needs of our customers.",
        "marker1": "Collaboration",
        "marker2": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to reducing our carbon footprint by implementing energy-efficient technologies and practices across our operations.",
        "marker1": "Agency",
        "marker2": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our strategy is to build a resilient business by diversifying our revenue streams and focusing on high-growth areas such as beauty, food, and digital.",
        "marker1": "Macro Issue How",
        "marker2": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are building strong partnerships with key suppliers to ensure the availability of high-quality products and to drive innovation in our product offerings.",
        "marker1": "Collaboration",
        "marker2": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are focused on creating long-term value for our shareholders by executing our strategy with discipline and maintaining a strong financial position.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to delivering a seamless shopping experience by integrating our physical and digital channels and leveraging data to personalize the customer journey.",
        "marker1": "Macro Issue How",
        "marker2": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that a strong and engaged workforce is key to our success, and we are focused on creating a culture of continuous learning and development.",
        "marker1": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to operating our business in a socially responsible manner, with a focus on ethical sourcing, environmental sustainability, and community engagement.",
        "marker1": "Agency"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are taking a proactive approach to managing risk by identifying potential threats to our business and developing strategies to mitigate them.",
        "marker1": "Tensions"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are focused on driving operational excellence by streamlining our processes, reducing costs, and improving productivity.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our strategy is to create a differentiated brand that resonates with our target customers by delivering unique and compelling product offerings.",
        "marker1": "Purpose",
        "marker2": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are investing in our people by providing training and development opportunities to enhance their skills and support their career growth.",
        "marker1": "Micro Issue How",
        "marker2": "Collaboration"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are focused on creating a seamless omnichannel experience by integrating our online and offline operations and leveraging technology to enhance the customer journey.",
        "marker1": "Macro Issue How",
        "marker2": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to reducing our environmental impact by implementing sustainable practices across our supply chain and operations.",
        "marker1": "Agency",
        "marker2": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that a strong brand is key to our success, and we are focused on building brand equity through consistent messaging and a clear value proposition.",
        "marker1": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are working to enhance our customer experience by leveraging data to gain insights into customer behavior and preferences.",
        "marker1": "Macro Issue How",
        "marker2": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our approach to innovation is focused on identifying emerging trends and developing new products and services that meet the changing needs of our customers.",
        "marker1": "Micro Issue How",
        "marker2": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to creating a diverse and inclusive workplace where all employees feel valued and respected.",
        "marker1": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are focused on driving profitable growth by expanding our product offerings and entering new markets.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that our people are our greatest asset, and we are committed to creating a culture that fosters collaboration, innovation, and continuous improvement.",
        "marker1": "Micro Issue How",
        "marker2": "Collaboration"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our strategy is to deliver sustainable growth by focusing on our core strengths and leveraging our unique assets.",
        "marker1": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to building a sustainable business by integrating environmental, social, and governance (ESG) considerations into our decision-making processes.",
        "marker1": "Agency",
        "marker2": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are focused on creating a seamless shopping experience by integrating our physical and digital channels and leveraging technology to personalize the customer journey.",
        "marker1": "Macro Issue How",
        "marker2": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that innovation is key to our success, and we are focused on developing new products and services that meet the evolving needs of our customers.",
        "marker1": "Macro Issue How",
        "marker2": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to reducing our environmental impact by implementing sustainable practices across our supply chain and operations.",
        "marker1": "Agency"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are working to create a positive social impact by supporting local communities and promoting ethical business practices.",
        "marker1": "Agency"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that a strong brand is key to our success, and we are focused on building brand equity through consistent messaging and a clear value proposition.",
        "marker1": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our approach to risk management is proactive, with a focus on identifying potential threats to our business and developing strategies to mitigate them.",
        "marker1": "Tensions"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to creating long-term value for our shareholders by executing our strategy with discipline and maintaining a strong financial position.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our strategy is to build a resilient business by diversifying our revenue streams and focusing on high-growth areas such as beauty, food, and digital.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to operating our business in a socially responsible manner, with a focus on ethical sourcing, environmental sustainability, and community engagement.",
        "marker1": "Agency"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are focused on driving operational excellence by streamlining our processes, reducing costs, and improving productivity.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our approach to innovation is focused on identifying emerging trends and developing new products and services that meet the changing needs of our customers.",
        "marker1": "Macro Issue How",
        "marker2": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to reducing our carbon footprint by implementing energy-efficient technologies and practices across our operations.",
        "marker1": "Agency",
        "marker2": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that a strong and engaged workforce is key to our success, and we are focused on creating a culture of continuous learning and development.",
        "marker1": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are pursuing a strategy that is based on a clear understanding of our customers, and we are confident that this will allow us to adapt to their changing needs and deliver sustainable growth.",
        "marker1": "Macro Issue Why",
        "marker2": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are focused on creating long-term value for our shareholders by executing our strategy with discipline and maintaining a strong financial position.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that a strong and engaged workforce is key to our success, and we are focused on creating a culture of continuous learning and development.",
        "marker1": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to building a sustainable business by integrating environmental, social, and governance (ESG) considerations into our decision-making processes.",
        "marker1": "Agency",
        "marker2": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our strategy is to deliver sustainable growth by focusing on our core strengths and leveraging our unique assets.",
        "marker1": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that innovation is key to our success, and we are focused on developing new products and services that meet the evolving needs of our customers.",
        "marker1": "Macro Issue How",
        "marker2": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to creating long-term value for our shareholders by executing our strategy with discipline and maintaining a strong financial position.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are working to create a positive social impact by supporting local communities and promoting ethical business practices.",
        "marker1": "Agency"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that a strong brand is key to our success, and we are focused on building brand equity through consistent messaging and a clear value proposition.",
        "marker1": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to delivering a seamless shopping experience by integrating our physical and digital channels and leveraging data to personalize the customer journey.",
        "marker1": "Macro Issue How",
        "marker2": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that our people are our greatest asset, and we are committed to creating a culture that fosters collaboration, innovation, and continuous improvement.",
        "marker1": "Micro Issue How",
        "marker2": "Collaboration"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are investing in our people by providing training and development opportunities to enhance their skills and support their career growth.",
        "marker1": "Micro Issue How",
        "marker2": "Collaboration"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to reducing our environmental impact by implementing sustainable practices across our supply chain and operations.",
        "marker1": "Agency"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that a strong brand is key to our success, and we are focused on building brand equity through consistent messaging and a clear value proposition.",
        "marker1": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our approach to risk management is proactive, with a focus on identifying potential threats to our business and developing strategies to mitigate them.",
        "marker1": "Tensions"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are focused on driving profitable growth by expanding our product offerings and entering new markets.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are committed to building a sustainable business by focusing on reducing our environmental impact and promoting ethical sourcing practices.",
        "marker1": "Agency",
        "marker2": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are creating a digital destination, accessed via Debenhams.com, bringing together beauty beginners, enthusiasts, and experts in a fun, rewarding, and safe space to connect and share their passion.",
        "marker1": "Micro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We believe that by rethinking our approach to operations and focusing on productivity, we can unlock significant efficiencies across the business.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We continue to strengthen our relationships with third parties to broaden our reach. This includes accessing new customers both in the UK and overseas through partners for our own brands.",
        "marker1": "Collaboration"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are investing in digital capabilities to engage with customers more effectively and meet their needs across multiple channels.",
        "marker1": "Macro Issue How",
        "marker2": "Collaboration"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "Our long-term strategy is centered around making Debenhams a leading multi-channel retailer by creating value through a unique combination of stores, online, and mobile.",
        "marker1": "Purpose"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We seek to operate our stores, logistics, and sourcing operations in a way that minimizes the use of energy and resources.",
        "marker1": "Agency"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are continuing to review our international market presence. In FY2018 we closed a net five franchise stores, exiting two markets, mainly in Eastern Europe.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "By simplifying our operations and processes and focusing on doing fewer things better, we will increase the efficiency of our business.",
        "marker1": "Macro Issue How"
    },
    {
        "company": "Debenhams",
        "year": "2018",
        "paragraph": "We are developing a culture that puts our customers first, enabling product creation and development in an inspiring environment, supported by data-informed decision-making.",
        "marker1": "Purpose"
    }
]


        const markerDefinitions = {
            "Purpose": "The company discusses explicitly about its 'purpose' (reason for being of the company) aiming towards a desired state in the future.",
            "Tensions": "The company discusses engaging in certain behaviors (systems thinking) despite potential unfavorable conditions.",
            "Macro Issue Why": "The company explains 'why' they consider a macro issue important for the firm, indicating how the system impacts them (zooming out).",
            "Macro Issue How": "The company details specific initiatives (A, B, and C) to address systems problems at the organizational level, focusing on the process (zooming out).",
            "Micro Issue Why": "The company explains 'why' a micro issue is important, highlighting how the system impacts them (zooming in).",
            "Micro Issue How": "The company discusses specific initiatives to tackle systems problems at a micro level (zooming in).",
            "Collaboration": "The company discusses collaboration with other stakeholders (system actors) to address systems problems.",
            "Agency": "The company discusses actions the company can take to transform the system, reflecting a proactive stance and impact beyond the organization."
        };

        let currentParagraphIndex = 0;

        document.addEventListener('DOMContentLoaded', function() {
            loadParagraph(currentParagraphIndex);
            updateIndexSelector();
            populateMarkerOptions();
            populateDefinitionsTable();

            document.getElementById('feedbackForm').addEventListener('submit', function(event) {
                event.preventDefault();
                submitFeedback();
            });

            document.getElementById('jsonIndexSelector').addEventListener('change', function() {
                currentParagraphIndex = parseInt(this.value);
                loadParagraph(currentParagraphIndex);
            });

            document.getElementById('addMarkerForm').addEventListener('submit', function(event) {
                event.preventDefault();
                addMarker();
            });
        });

        function updateIndexSelector() {
            const selector = document.getElementById('jsonIndexSelector');
            selector.innerHTML = '';
            jsonData.forEach((_, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.text = `Paragraph ${index + 1}`;
                selector.appendChild(option);
            });
        }

        function loadParagraph(index) {
            if (!jsonData.length || index < 0 || index >= jsonData.length) {
                const container = document.getElementById('paragraphContainer');
                container.innerHTML = '<p>No paragraph available.</p>';
                return;
            }

            const item = jsonData[index];
            const container = document.getElementById('paragraphContainer');
            container.innerHTML = `
                <p>Paragraph ${index + 1} of ${jsonData.length}:</p>
                <p>${item.paragraph}</p>
                <p>Company: ${item.company}, Year: ${item.year}</p>
                <div id="markerButtonsContainer"></div>
                <div id="markerFeedbackContainer" class="markerFeedbackContainer"></div>
                <hr>`;

            loadMarkerButtons(item);
            loadMarkerFeedback(item);
        }

        function loadMarkerButtons(item) {
            const container = document.getElementById('markerButtonsContainer');
            container.innerHTML = '';

            for (let key in item) {
                if (key.startsWith('marker') && item[key]) {
                    const button = document.createElement('button');
                    button.className = 'markerButton';
                    button.textContent = item[key];
                    container.appendChild(button);
                }
            }
        }

        function loadMarkerFeedback(item) {
            const container = document.getElementById('markerFeedbackContainer');
            container.innerHTML = '';

            for (let key in item) {
                if (key.startsWith('marker') && item[key]) {
                    const label = document.createElement('label');
                    label.textContent = `Feedback for ${item[key]}: `;
                    const select = document.createElement('select');
                    select.className = 'markerFeedback';
                    select.setAttribute('data-marker', key);

                    const optionAgree = document.createElement('option');
                    optionAgree.value = 'agree';
                    optionAgree.text = 'Agree';
                    select.appendChild(optionAgree);

                    const optionDisagree = document.createElement('option');
                    optionDisagree.value = 'disagree';
                    optionDisagree.text = 'Disagree';
                    select.appendChild(optionDisagree);

                    container.appendChild(label);
                    container.appendChild(select);
                    container.appendChild(document.createElement('br'));
                }
            }
        }

        function submitFeedback() {
            const feedback = {
                name: document.getElementById('name').value,
                feedback: {}
            };

            const markerFeedbackElements = document.querySelectorAll('.markerFeedback');
            markerFeedbackElements.forEach(element => {
                const markerKey = element.getAttribute('data-marker');
                feedback.feedback[markerKey] = element.value;
            });

            if (!feedback.name) {
                alert('Please fill in your name.');
                return;
            }

            console.log(feedback);

            setTimeout(() => {
                alert('Feedback submitted successfully.');

                currentParagraphIndex = (currentParagraphIndex + 1) % jsonData.length;
                loadParagraph(currentParagraphIndex);
                document.getElementById('jsonIndexSelector').value = currentParagraphIndex;
            }, 500);
        }

        function populateMarkerOptions() {
            const markerSelect = document.getElementById('newMarker');
            markerSelect.innerHTML = '';

            for (let key in markerDefinitions) {
                const option = document.createElement('option');
                option.value = key;
                option.textContent = key;
                markerSelect.appendChild(option);
            }
        }

        function addMarker() {
            const markerKey = `marker${Object.keys(jsonData[currentParagraphIndex]).filter(key => key.startsWith('marker')).length + 1}`;
            const markerName = document.getElementById('newMarker').value;

            if (markerName) {
                jsonData[currentParagraphIndex][markerKey] = markerName;

                loadParagraph(currentParagraphIndex);
            } else {
                alert('Please select a marker.');
            }
        }

        function populateDefinitionsTable() {
            const tableBody = document.getElementById('definitionsTableBody');
            tableBody.innerHTML = '';

            for (let key in markerDefinitions) {
                const row = document.createElement('tr');

                const dimensionCell = document.createElement('td');
                dimensionCell.textContent = key;
                row.appendChild(dimensionCell);

                const definitionCell = document.createElement('td');
                definitionCell.textContent = markerDefinitions[key];
                row.appendChild(definitionCell);

                tableBody.appendChild(row);
            }
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>Reinforcement Learning Feedback</h1>

        <form id="addMarkerForm">
            <label for="newMarker">New Marker:</label>
            <select id="newMarker" name="newMarker" class="classificationDropdown"></select>
            <button class="addMarkerButton" type="submit">Add Marker</button>
        </form>

        <table>
            <thead>
                <tr>
                    <th>Dimension</th>
                    <th>Definition</th>
                </tr>
            </thead>
            <tbody id="definitionsTableBody">
                <!-- Definitions will be populated here -->
            </tbody>
        </table>

        <hr>

        <div id="paragraphContainer">
            <!-- Paragraph will be loaded here -->
        </div>
        
        <form id="feedbackForm">
            <label for="jsonIndexSelector">Select Paragraph:</label>
            <select id="jsonIndexSelector" name="jsonIndexSelector" class="classificationDropdown"></select>
            <br>
            <div id="markerFeedbackContainer" class="markerFeedbackContainer">
                <!-- Marker-specific feedback will be loaded here -->
            </div>
            <br>
            <label for="name">Your Name:</label>
            <input type="text" id="name" name="name" class="nameInput">
            <button class="submitFeedback" type="submit">Submit</button>
        </form>
    </div>
</body>
</html>
